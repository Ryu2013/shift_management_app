<%= form_with(model: [@team, client]) do |form| %>
  <% if client.errors.any? %>
    <div style="color: red">
      <h2><%= t(".errors.title", count: client.errors.count) %></h2>

      <ul>
        <% client.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  
  <div>
  <%= form.label :team_id, t(".team"), style: "display: block" %>
  <%= form.collection_select :team_id, @teams, :id, :name,selected: params[:team_id] %>
  </div>

  <div>
    <%= form.label :name, style: "display: block" %>
    <%= form.text_field :name ,required: true%>
  </div>

  <div>
    <%= form.label :email, style: "display: block" %>
    <%= form.text_field :email %>
  </div>

  <div>
    <%= form.label :address, style: "display: block" %>
    <%= form.text_field :address %>
  </div>

  <div>
    <%= form.label :disease, style: "display: block" %>
    <%= form.text_field :disease %>
  </div>

  <div>
    <%= form.label :medical_care, style: "display: block" %>
    <%= form.select :medical_care, [['無', 'no'], ['胃瘻', 'one'], ['吸引', 'two'], ['胃瘻+吸引', 'three']] %>
  </div>

  <div>
    <%= form.label :note, style: "display: block" %>
    <%= form.text_field :note %>
  </div>

  <%= form.fields_for :user_clients do |user_client| %>
  <%= user_client.hidden_field :id if user_client.object.persisted? %>

  <div> <%= user_client.label :name, "担当可能従業員" %> <%= user_client.collection_select :user_id, @users, :id, :name, prompt: "担当従業員を選択" %> </div>
    <% if user_client.object.persisted? %>
      <%= user_client.check_box :_destroy %>
      <%= user_client.label :_destroy, "削除" %>
    <% end %>
  <% end %>

  
  <div class="flexbox">
      <%= form.submit t(".submit"), class: "flex-btn" %>
  </div>

  <% end %>
